import { useSelector } from "react-redux";

function CreateBackupIcon({ onClick }) {
  const { isConfirmationDialogueOpened } = useSelector((state) => state.ui);
  
  return (
    <div 
      className={`${
        !isConfirmationDialogueOpened && "relative group"
      } w-10 h-10 flex items-center justify-center cursor-pointer `}
    >
      <div 
        onClick={onClick}
        className="w-full h-full flex items-center justify-center"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.0008 3.74828C9.00628 3.74828 8.05245 4.14337 7.34919 4.84663C6.64593 5.54989 6.25084 6.50372 6.25084 7.49828C6.25084 7.66404 6.18499 7.82301 6.06778 7.94022C5.95057 8.05743 5.7916 8.12328 5.62584 8.12328H5.31334C4.56742 8.12328 3.85205 8.4196 3.3246 8.94704C2.79716 9.47449 2.50084 10.1899 2.50084 10.9358C2.50084 11.6817 2.79716 12.3971 3.3246 12.9245C3.85205 13.452 4.56742 13.7483 5.31334 13.7483H6.27834C6.31834 14.1783 6.39542 14.5949 6.50959 14.9983H5.31334C4.25822 15.0005 3.24363 14.5922 2.48424 13.8596C1.72485 13.1271 1.28025 12.1279 1.24452 11.0734C1.20879 10.0188 1.58473 8.9918 2.2928 8.20955C3.00086 7.42729 3.98549 6.95121 5.03834 6.88203C5.18297 5.70569 5.74077 4.61898 6.61223 3.81572C7.4837 3.01245 8.61217 2.54488 9.79637 2.49638C10.9806 2.44788 12.1435 2.82162 13.0777 3.55093C14.012 4.28025 14.6568 5.31771 14.8971 6.47828C14.4538 6.36077 13.9999 6.28791 13.5421 6.26078C13.2854 5.52639 12.8066 4.89003 12.1721 4.43986C11.5376 3.9897 10.7788 3.74801 10.0008 3.74828ZM18.7508 13.1233C18.7508 13.862 18.6053 14.5934 18.3227 15.2759C18.04 15.9583 17.6256 16.5784 17.1033 17.1008C16.581 17.6231 15.9609 18.0374 15.2784 18.3201C14.596 18.6028 13.8645 18.7483 13.1258 18.7483C12.3872 18.7483 11.6557 18.6028 10.9732 18.3201C10.2908 18.0374 9.67069 17.6231 9.14836 17.1008C8.62603 16.5784 8.2117 15.9583 7.92902 15.2759C7.64633 14.5934 7.50084 13.862 7.50084 13.1233C7.50084 11.6314 8.09347 10.2007 9.14836 9.1458C10.2033 8.09091 11.634 7.49828 13.1258 7.49828C14.6177 7.49828 16.0484 8.09091 17.1033 9.1458C18.1582 10.2007 18.7508 11.6314 18.7508 13.1233ZM12.6833 10.182L10.1833 12.682C10.0661 12.7994 10.0004 12.9585 10.0005 13.1243C10.0006 13.2902 10.0666 13.4492 10.184 13.5664C10.3013 13.6836 10.4604 13.7494 10.6263 13.7493C10.7921 13.7491 10.9511 13.6831 11.0683 13.5658L12.5008 12.132V15.6233C12.5008 15.789 12.5667 15.948 12.6839 16.0652C12.8011 16.1824 12.9601 16.2483 13.1258 16.2483C13.2916 16.2483 13.4506 16.1824 13.5678 16.0652C13.685 15.948 13.7508 15.789 13.7508 15.6233V12.132L15.1833 13.5658C15.3007 13.6831 15.4599 13.7491 15.6258 13.7491C15.7918 13.7491 15.951 13.6831 16.0683 13.5658C16.1857 13.4484 16.2516 13.2892 16.2516 13.1233C16.2516 12.9573 16.1857 12.7981 16.0683 12.6808L13.5683 10.1808C13.4518 10.0646 13.2942 9.99897 13.1296 9.99828H13.1221C12.9592 9.99929 12.8031 10.0639 12.6871 10.1783L12.6833 10.182Z"
            fill="#464646"
          />
        </svg>
      </div>
      
      {/* Tooltip */}
      <div className="absolute top-full left-1/4 transform -translate-x-[65%] mt-2 px-2 py-1 bg-[#EBEBEB] text-[#214768] text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50 pointer-events-none">
        {"Create Backup"}
        <div className="absolute bottom-full right-1/4 -translate-x-1/4 w-0 h-0 border-l-4 border-r-4 border-t-0 border-b-4 border-solid border-l-transparent border-r-transparent border-b-[#EBEBEB]" />
      </div>
    </div>
  );
}

export default CreateBackupIcon;